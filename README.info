This is README.info, produced by makeinfo version 6.7 from README.texi.


File: README.info,  Node: Top,  Next: README,  Up: (dir)

* Menu:

* README::

â€” The Detailed Node Listing â€”

README

* Installation::
* Usage::
* Dependencies::
* Network compatibility::
* Contributing::
* Supporting â€˜mastodon.elâ€™: Supporting mastodonel.
* Contributors::

Installation

* MELPA::
* Emoji::
* Discover::

Usage

* Logging in to your instance::
* Timelines::
* Composing toots::
* Other commands and account settings::
* Customization::
* Alternative timeline layout::
* Live-updating timelines mastodon-async-mode::
* Translating toots::

Timelines

* Keybindings::
* Toot byline legend::

Composing toots

* Keybindings: Keybindings (1).
* Draft toots::

Contributing

* Bug reports::
* Fixes and features::
* Coding style::



File: README.info,  Node: README,  Prev: Top,  Up: Top

README
******

â€˜mastodon.elâ€™ is an Emacs client for the AcitivityPub social networks
that implement the Mastodon API.  For info see
<https://joinmastodon.org/>.

* Menu:

* Installation::
* Usage::
* Dependencies::
* Network compatibility::
* Contributing::
* Supporting â€˜mastodon.elâ€™: Supporting mastodonel.
* Contributors::


File: README.info,  Node: Installation,  Next: Usage,  Up: README

Installation
============

Clone this repository and add the lisp directory to your load path.
Then, require it and go.

     (add-to-list 'load-path "/path/to/mastodon.el/lisp")
     (require 'mastodon)

   Or, with â€˜use-packageâ€™:

     (use-package mastodon
       :ensure t)

   The minimum Emacs version is now 27.1.  But if you are running an
older version it shouldnâ€™t be very hard to get it working.

* Menu:

* MELPA::
* Emoji::
* Discover::


File: README.info,  Node: MELPA,  Next: Emoji,  Up: Installation

MELPA
-----

Add â€˜MELPAâ€™ to your archives:

     (require 'package)
     (add-to-list 'package-archives
                  '("melpa" . "http://melpa.org/packages/") t)

   Update and install:

   â€˜M-x package-refresh-contents RETâ€™

   â€˜M-x package-install RET mastodon RETâ€™


File: README.info,  Node: Emoji,  Next: Discover,  Prev: MELPA,  Up: Installation

Emoji
-----

â€˜mastodon-modeâ€™ will enable Emojify
(https://github.com/iqbalansari/emacs-emojify) if it is loaded in your
Emacs environment, so thereâ€™s no need to write your own hook anymore.
â€˜emojify-modeâ€™ is not required.


File: README.info,  Node: Discover,  Prev: Emoji,  Up: Installation

Discover
--------

â€˜mastodon-modeâ€™ can provide a context menu for its keybindings if
Discover (https://github.com/mickeynp/discover.el) is installed.  It is
not required.

   if you have Discover, add the following to your Emacs init
configuration:

     (require 'mastodon-discover)
     (with-eval-after-load 'mastodon (mastodon-discover))

   Or, with â€˜use-packageâ€™:

     (use-package mastodon
       :ensure t
       :config
       (mastodon-discover))


File: README.info,  Node: Usage,  Next: Dependencies,  Prev: Installation,  Up: README

Usage
=====

* Menu:

* Logging in to your instance::
* Timelines::
* Composing toots::
* Other commands and account settings::
* Customization::
* Alternative timeline layout::
* Live-updating timelines mastodon-async-mode::
* Translating toots::


File: README.info,  Node: Logging in to your instance,  Next: Timelines,  Up: Usage

Logging in to your instance
---------------------------

You need to set 2 variables in your init file to get started:

  1. â€˜mastodon-instance-urlâ€™
  2. â€˜mastodon-active-userâ€™

   (see their doc strings for details).  For example If you want to post
toots as â€œexample_user@social.instance.orgâ€, then put this in your init
file:

     (setq mastodon-instance-url "https://social.instance.org"
           mastodon-active-user "example_user")

   Then *restart* Emacs and run â€˜M-x mastodonâ€™.  Make sure you are
connected to internet before you do this.  If you have multiple mastodon
accounts you can activate one at a time by changing those two variables
and restarting Emacs.

   If you were using mastodon.el before 2FA was implemented and the
above steps do not work, delete the old file specified by
â€˜mastodon-client--token-fileâ€™ and restart Emacs and follow the steps
again.


File: README.info,  Node: Timelines,  Next: Composing toots,  Prev: Logging in to your instance,  Up: Usage

Timelines
---------

â€˜M-x mastodonâ€™

   Opens a â€˜*mastodon-home*â€™ buffer in the major mode and displays
toots.  If your credentials are not yet saved, you will be prompted for
email and password.  The app registration process will take place if
your â€˜mastodon-token-fileâ€™ does not contain â€˜:client_idâ€™ and
â€˜:client_secretâ€™.

* Menu:

* Keybindings::
* Toot byline legend::


File: README.info,  Node: Keybindings,  Next: Toot byline legend,  Up: Timelines

Keybindings
...........

Key                      Action
-----------------------------------------------------------------------------------------------------
                         *Help*
â€˜?â€™                      Show discover menu of all bindings, if â€˜discoverâ€™ is available
                         *Timeline actions*
â€˜nâ€™                      Go to next item (toot, notification)
â€˜pâ€™                      Go to previous item (toot, notification)
â€˜M-n=/=<tab>â€™            Go to the next interesting thing that has an action
â€˜M-p=/=<S-tab>â€™          Go to the previous interesting thing that has an action
â€˜Fâ€™                      Open federated timeline
â€˜Hâ€™                      Open home timeline
â€˜Lâ€™                      Open local timeline
â€˜Nâ€™                      Open notifications timeline
â€˜@â€™                      Open mentions-only notifications timeline
â€˜uâ€™                      Update current timeline
â€˜Tâ€™                      Open thread for toot at point
â€˜#â€™                      Prompt for tag and open its timeline
â€˜Aâ€™                      Open author profile of toot at point
â€˜Pâ€™                      Open profile of user attached to toot at point
â€˜Oâ€™                      View own profile
â€˜Uâ€™                      update your profile bio note
â€˜;â€™                      view instance description for toot at point
â€˜,â€™                      view favouriters of toot at point
â€˜.â€™                      view boosters of toot at point
                         *Other views*
â€˜Sâ€™                      search (posts, users, tags) (NB: only posts you have interacted with)
â€˜Iâ€™, â€˜câ€™, â€˜dâ€™            view, create, and delete filters
â€˜Râ€™, â€˜aâ€™, â€˜jâ€™            view/accept/reject follow requests
â€˜Gâ€™                      view follow suggestions
â€˜Vâ€™                      view your favourited toots
â€˜Kâ€™                      view bookmarked toots
â€˜Xâ€™                      view/edit/create/delete lists
â€˜sâ€™                      view your scheduled toots
                         *Toot actions*
â€˜tâ€™                      Compose a new toot
â€˜câ€™                      Toggle content warning content
â€˜bâ€™                      Boost toot under â€˜pointâ€™
â€˜fâ€™                      Favourite toot under â€˜pointâ€™
â€˜kâ€™                      toggle bookmark of toot at point
â€˜râ€™                      Reply to toot under â€˜pointâ€™
â€˜vâ€™                      Vote on poll at point
â€˜Câ€™                      copy url of toot at point
â€˜C-RETâ€™                  play video/gif at point (requires â€˜mpvâ€™)
â€˜eâ€™                      edit your toot at point
â€˜Eâ€™                      view edits of toot at point
â€˜iâ€™                      (un)pin your toot at point
â€˜dâ€™                      delete your toot at point, and reload current timeline
â€˜Dâ€™                      delete and redraft toot at point, preserving reply/CW/visibility
(â€˜S-C-â€™) â€˜Wâ€™, â€˜Mâ€™, â€˜Bâ€™   (un)follow, (un)mute, (un)block author of toot at point
                         *Profile view*
â€˜C-c C-câ€™                cycle between statuses, followers, following, and statuses without boosts
                         â€˜mastodon-profile--account-account-to-listâ€™ (see lists view)
                         *Notifications view*
â€˜aâ€™, â€˜jâ€™                 accept/reject follow request
â€˜C-kâ€™                    clear notification at point
                         see â€˜mastodon-notifications--get-*â€™ functions for filtered views
                         *Quitting*
â€˜qâ€™                      Quit mastodon buffer, leave window open
â€˜Qâ€™                      Quit mastodon buffer and kill window
â€˜C-M-qâ€™                  Quit and kill all mastodon buffers


File: README.info,  Node: Toot byline legend,  Prev: Keybindings,  Up: Timelines

Toot byline legend
..................

Marker             Meaning
--------------------------------------------
â€˜(B)â€™              I boosted this toot
â€˜(F)â€™              I favourited this toot
â€˜(ğŸ”–)â€™ (or          I bookmarked this toot
(â€˜Kâ€™))


File: README.info,  Node: Composing toots,  Next: Other commands and account settings,  Prev: Timelines,  Up: Usage

Composing toots
---------------

â€˜M-x mastodon-tootâ€™ (or â€˜tâ€™ from a mastodon.el buffer).

   Pops a new buffer/window in â€˜mastodon-tootâ€™ minor mode.  Enter the
contents of your toot here.  â€˜C-c C-câ€™ sends the toot.  â€˜C-c C-kâ€™
cancels.  Both actions kill the buffer and window.

   Autocompletion of mentions and tags is provided by
â€˜completion-at-point-functionsâ€™ (capf) backends.
â€˜mastodon-toot--enable-completionâ€™ is enabled by default.  If you want
to enable â€˜company-modeâ€™ in the toot compose buffer, set
â€˜mastodon-toot--use-company-for-completionâ€™ to â€˜tâ€™.  (â€˜mastodon.elâ€™ used
to run its own native company backends, but these have been removed in
favour of capfs.)

   Replies preserve visibility status/content warnings, and include
boosters by default.

   Serverâ€™s max toot length, and attachment previews, are shown.

   You can download and use your instanceâ€™s custom emoji
(â€˜mastodon-toot--download-custom-emojiâ€™,
â€˜mastodon-toot--enable-custom-emojiâ€™).

* Menu:

* Keybindings: Keybindings (1).
* Draft toots::


File: README.info,  Node: Keybindings (1),  Next: Draft toots,  Up: Composing toots

Keybindings
...........

Key         Action
-------------------------------------------------
â€˜C-c C-câ€™   Send toot
â€˜C-c C-kâ€™   Cancel toot
â€˜C-c C-wâ€™   Add content warning
â€˜C-c C-vâ€™   Change toot visibility
â€˜C-c C-nâ€™   Add sensitive media/nsfw flag
â€˜C-c C-aâ€™   Upload attachment(s)
â€˜C-c !â€™     Remove all attachments
â€˜C-c C-eâ€™   Add emoji (if â€˜emojifyâ€™ installed)
â€˜C-c C-pâ€™   Create a poll
â€˜C-c C-lâ€™   Set toot language


File: README.info,  Node: Draft toots,  Prev: Keybindings (1),  Up: Composing toots

Draft toots
...........

   â€¢ Compose buffer text is saved as you type, kept in
     â€˜mastodon-toot-current-toot-textâ€™.
   â€¢ â€˜mastodon-toot--save-draftâ€™: save the current toot as a draft.
   â€¢ â€˜mastodon-toot--open-draft-tootâ€™: Open a compose buffer and insert
     one of your draft toots.
   â€¢ â€˜mastodon-toot--delete-draft-tootâ€™: Delete a draft toot.
   â€¢ â€˜mastodon-toot--delete-all-draftsâ€™: Delete all your drafts.


File: README.info,  Node: Other commands and account settings,  Next: Customization,  Prev: Composing toots,  Up: Usage

Other commands and account settings:
------------------------------------

In addition to â€˜mastodonâ€™, the following three functions are autoloaded
and should work without first loading â€˜mastodon.elâ€™:
   â€¢ â€˜mastodon-tootâ€™: Compose new toot
   â€¢ â€˜mastodon-notifications-getâ€™: View all notifications
   â€¢ â€˜mastodon-url-lookupâ€™: Attempt to load a URL in â€˜mastodon.elâ€™.  URL
     may be at point or provided in the minibuffer.

   â€¢ â€˜mastodon-tl--view-instance-descriptionâ€™: View information about
     the instance that the author of the toot at point is on.
   â€¢ â€˜mastodon-tl--view-own-instanceâ€™: View information about your own
     instance.
   â€¢ â€˜mastodon-search--trending-tagsâ€™: View a list of trending hashtags
     on your instance.

   â€¢ â€˜mastodon-tl--add-toot-account-at-point-to-listâ€™: Add the account
     of the toot at point to a list.

   â€¢ â€˜mastodon-tl--follow-tagâ€™: Follow a tag (works like following a
     user)
   â€¢ â€˜mastodon-tl--unfollow-tagâ€™: Unfollow a tag
   â€¢ â€˜mastodon-tl--list-followed-tagsâ€™: View a list of tags youâ€™re
     following.

   â€¢ â€˜mastodon-switch-to-bufferâ€™: switch between mastodon buffers.

   â€¢ â€˜mastodon-profile--update-display-nameâ€™: Update the display name
     for your account.
   â€¢ â€˜mastodon-profile--update-user-profile-noteâ€™: Update your bio note.
   â€¢ â€˜mastodon-profile--update-meta-fieldsâ€™: Update your metadata
     fields.
   â€¢ â€˜mastodon-profile--set-default-toot-visibilityâ€™: Set the default
     visibility for your toots.
   â€¢ â€˜mastodon-profile--account-locked-toggleâ€™: Toggle the locked status
     of your account.  Locked accounts have to manually approve follow
     requests.
   â€¢ â€˜mastodon-profile--account-discoverable-toggleâ€™: Toggle the
     discoverable status of your account.  Non-discoverable accounts are
     not listed in the profile directory.
   â€¢ â€˜mastodon-profile--account-bot-toggleâ€™: Toggle whether your account
     is flagged as a bot.
   â€¢ â€˜mastodon-profile--account-sensitive-toggleâ€™: Toggle whether your
     posts are marked as sensitive (nsfw) by default.


File: README.info,  Node: Customization,  Next: Alternative timeline layout,  Prev: Other commands and account settings,  Up: Usage

Customization
-------------

See â€˜M-x customize-group RET mastodonâ€™ to view all customize options.

   â€¢ Timeline options:
        â€¢ Use proportional fonts
        â€¢ Default number of posts displayed
        â€¢ Timestamp format
        â€¢ Relative timestamps
        â€¢ Display user avatars
        â€¢ Avatar image height
        â€¢ Enable image caching
        â€¢ Hide replies in timelines

   â€¢ Compose options:
        â€¢ Completion style for mentions and tags
        â€¢ Enable custom emoji
        â€¢ Display toot being replied to
        â€¢ Set default reply visibility


File: README.info,  Node: Alternative timeline layout,  Next: Live-updating timelines mastodon-async-mode,  Prev: Customization,  Up: Usage

Alternative timeline layout
---------------------------

The incomparable Nicholas Rougier has written an alternative timeline
layout for â€˜mastodon.elâ€™.

   The repo is at <https://github.com/rougier/mastodon-alt>.


File: README.info,  Node: Live-updating timelines mastodon-async-mode,  Next: Translating toots,  Prev: Alternative timeline layout,  Up: Usage

Live-updating timelines: â€˜mastodon-async-modeâ€™
----------------------------------------------

(code taken from <https://github.com/alexjgriffith/mastodon-future.el>.)

   Works for federated, local, and home timelines and for notifications.
Itâ€™s a little touchy, one thing to avoid is trying to load a timeline
more than once at a time.  It can go off the rails a bit, but itâ€™s still
pretty cool.  The current maintainer of â€˜mastodon.elâ€™ is unable to debug
or improve this feature.

   To enable, it, add â€˜(require 'mastodon-async)â€™ to your â€˜init.elâ€™.
Then you can view a timeline with one of the commands that begin with
â€˜mastodon-async--stream-â€™.


File: README.info,  Node: Translating toots,  Prev: Live-updating timelines mastodon-async-mode,  Up: Usage

Translating toots
-----------------

You can translate toots with â€˜mastodon-toot--translate-toot-textâ€™ (â€˜aâ€™
in a timeline).  At the moment this requires lingva.el
(https://codeberg.org/martianh/lingva.el), a little interface I wrote to
<https://lingva.ml>, to be installed to work.

   You could easily modify the simple function to use your Emacs
translator of choice (â€˜libretrans.elâ€™ , â€˜google-translateâ€™, â€˜babelâ€™,
â€˜go-translateâ€™, etc.), you just need to fetch the tootâ€™s content with
â€˜(mastodon-tl--content toot)â€™ and pass it to your translator function as
its text argument.  Hereâ€™s what â€˜mastodon-toot--translate-toot-textâ€™
looks like:

     (defun mastodon-toot--translate-toot-text ()
       "Translate text of toot at point.
       Uses `lingva.el'."
         (interactive)
         (let* ((toot (mastodon-tl--property 'toot-json)))
           (if toot
               (lingva-translate nil (mastodon-tl--content toot))
             (message "No toot to translate?"))))


File: README.info,  Node: Dependencies,  Next: Network compatibility,  Prev: Usage,  Up: README

Dependencies
============

Hard dependencies (should all install with â€˜mastodon.elâ€™):
   â€¢ â€˜requestâ€™ (for uploading attachments),
     <https://github.com/tkf/emacs-request>
   â€¢ â€˜persistâ€™ for storing some settings across sessions
   â€¢ â€˜tsâ€™ for poll relative expiry times

   Optional dependencies:
   â€¢ â€˜emojifyâ€™ for inserting and viewing emojis
   â€¢ â€˜mpvâ€™ and â€˜mpv.elâ€™ for viewing videos and gifs
   â€¢ â€˜lingva.elâ€™ for translating toots


File: README.info,  Node: Network compatibility,  Next: Contributing,  Prev: Dependencies,  Up: README

Network compatibility
=====================

â€˜mastodon.elâ€™ should work with ActivityPub servers that implement the
Mastodon API.

   Apart from Mastodon itself, it is currently known to work with
Pleroma and Gotosocial.  If you attempt to use â€˜mastodon.elâ€™ with
another server that implements the Mastodon API and run into problems,
feel free to open an issue.


File: README.info,  Node: Contributing,  Next: Supporting mastodonel,  Prev: Network compatibility,  Up: README

Contributing
============

PRs, issues, feature requests, and general feedback are very welcome!

* Menu:

* Bug reports::
* Fixes and features::
* Coding style::


File: README.info,  Node: Bug reports,  Next: Fixes and features,  Up: Contributing

Bug reports
-----------

  1. â€˜mastodon.elâ€™ has bugs, as well as lots of room for improvement.
  2. I receive very little feedback, so if I donâ€™t run into the bug it
     often doesnâ€™t get fixed.
  3. If you run into something that seems broken, first try running
     â€˜mastodon.elâ€™ in emacs with no init file (i.e.  â€˜emacs -qâ€™
     (instructions and code for doing this are here
     (https://codeberg.org/martianh/mastodon.el/issues/300)) to see if
     it also happens independently of your own config (it probably
     does).
  4. Enable debug on error (â€˜toggle-debug-on-errorâ€™), make the bug
     happen again, and copy the backtrace that appears.
  5. Open an issue here and explain what is going on.  Provide your
     emacs version and what kind of server your account is on.


File: README.info,  Node: Fixes and features,  Next: Coding style,  Prev: Bug reports,  Up: Contributing

Fixes and features
------------------

  1. Create an issue (https://codeberg.org/martianh/mastodon.el/issues)
     detailing what youâ€™d like to do.
  2. Fork the repository and create a branch off of â€˜developâ€™.
  3. Run the tests and ensure that your code doesnâ€™t break any of them.
  4. Create a pull request referencing the issue created in step 1.


File: README.info,  Node: Coding style,  Prev: Fixes and features,  Up: Contributing

Coding style
------------

   â€¢ This library uses an unconvential double dash (â€˜--â€™) between file
     namespaces and function names, which contradicts normal Elisp
     style.  This needs to be respected until the whole library is
     changed.
   â€¢ Use â€˜aggressive-indent-modeâ€™ or similar to keep your code indented.
   â€¢ Single spaces end sentences in docstrings.
   â€¢ Thereâ€™s no need for a blank line after the first docstring line
     (one is added automatically when documentation is displayed).


File: README.info,  Node: Supporting mastodonel,  Next: Contributors,  Prev: Contributing,  Up: README

Supporting â€˜mastodon.elâ€™
========================

If youâ€™d like to support continued development of â€˜mastodon.elâ€™, I
accept donations via paypal: paypal.me/martianh
(https://paypal.me/martianh).  If you would prefer a different payment
method, write to me at that address and I can provide IBAN or other
details.

   I donâ€™t have a tech workerâ€™s income, so even a small tip would help
out.


File: README.info,  Node: Contributors,  Prev: Supporting mastodonel,  Up: README

Contributors
============

â€˜mastodon.elâ€™ is the work of a number of people.

   Some significant contributors are:

   â€¢ <https://github.com/jdenen> [original author]
   â€¢ <http://atomized.org>
   â€¢ <https://alexjgriffith.itch.io>
   â€¢ <https://github.com/hdurer>
   â€¢ <https://codeberg.org/Red_Starfish>



Tag Table:
Node: Top73
Node: README828
Node: Installation1221
Node: MELPA1747
Node: Emoji2101
Node: Discover2419
Node: Usage2957
Node: Logging in to your instance3296
Node: Timelines4283
Node: Keybindings4788
Node: Toot byline legend8697
Node: Composing toots9042
Node: Keybindings (1)10241
Node: Draft toots10793
Node: Other commands and account settings11328
Node: Customization13617
Node: Alternative timeline layout14351
Node: Live-updating timelines mastodon-async-mode14714
Node: Translating toots15536
Node: Dependencies16661
Node: Network compatibility17243
Node: Contributing17719
Node: Bug reports17998
Node: Fixes and features18890
Node: Coding style19359
Node: Supporting mastodonel19969
Node: Contributors20481

End Tag Table


Local Variables:
coding: utf-8
End:
